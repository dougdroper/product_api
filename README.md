Internal API for product update